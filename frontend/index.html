<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SwapInterCam Production Web Interface</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background: #1a1a1a;
            color: white;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .header h1 {
            font-size: 2.5rem;
            text-align: center;
        }

        .status-bar {
            background: #333;
            padding: 15px;
            display: flex;
            justify-content: space-between;
        }

        .status-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #4CAF50;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
        }

        .feature-card {
            background: rgba(102, 126, 234, 0.1);
            padding: 30px;
            border-radius: 12px;
            border: 1px solid rgba(102, 126, 234, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            background: rgba(102, 126, 234, 0.2);
            transform: translateY(-3px);
        }

        .feature-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }

        .feature-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: #667eea;
        }

        .feature-description {
            font-size: 1rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        .api-status {
            background: #2a2a2a;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .api-endpoint {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #444;
        }

        .endpoint-status {
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
        }

        .status-ok {
            background: #4CAF50;
            color: white;
        }

        .status-error {
            background: #f44336;
            color: white;
        }

        .realtime-updates {
            background: #333;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
</head>

<body>
    <div class="header">
        <h1>üé≠ SwapInterCam Production Web Interface</h1>
        <p style="text-align: center; margin-top: 10px; opacity: 0.9;">MCP Server Integration ‚Ä¢ Real-time Updates ‚Ä¢
            Production Ready</p>
    </div>

    <div class="status-bar">
        <div class="status-item"><span class="status-dot"></span><span id="mcp-status">MCP Server: Checking...</span>
        </div>
        <div class="status-item"><span class="status-dot"></span><span id="swep-status">SWEP Server: Checking...</span>
        </div>
        <div class="status-item"><span class="status-dot"></span><span id="websocket-status">WebSocket:
                Connecting...</span></div>
    </div>

    <div class="container">
        <div class="feature-grid">
            <div class="feature-card" onclick="openFaceSwapStudio()">
                <div class="feature-icon">üé≠</div>
                <div class="feature-title">Face Swap Studio</div>
                <div class="feature-description">Professional AI-powered face swapping with real-time processing,
                    drag-and-drop interface, and export capabilities.</div>
            </div>

            <div class="feature-card" onclick="openChatIntegration()">
                <div class="feature-icon">üí¨</div>
                <div class="feature-title">Multi-Platform Chat Hub</div>
                <div class="feature-description">Unified interface for WhatsApp Web, Facebook Messenger, and LINE with
                    session management and real-time sync.</div>
            </div>

            <div class="feature-card" onclick="openSystemMonitoring()">
                <div class="feature-icon">üìä</div>
                <div class="feature-title">System Monitoring Dashboard</div>
                <div class="feature-description">Real-time system health, performance metrics, issue detection, and
                    automated recovery status monitoring.</div>
            </div>

            <div class="feature-card" onclick="openCameraControls()">
                <div class="feature-icon">üìπ</div>
                <div class="feature-title">Camera Management</div>
                <div class="feature-description">Professional camera detection, configuration, and real-time preview
                    with OBS virtual camera integration.</div>
            </div>

            <div class="feature-card" onclick="openActionCenter()">
                <div class="feature-icon">‚ö°</div>
                <div class="feature-title">Action Execution Center</div>
                <div class="feature-description">Execute system actions, recovery operations, and automated fixes with
                    real-time feedback and history tracking.</div>
            </div>

            <div class="feature-card" onclick="openAPIExplorer()">
                <div class="feature-icon">üîå</div>
                <div class="feature-title">MCP API Explorer</div>
                <div class="feature-description">Interactive API explorer for all 25+ MCP endpoints with real-time
                    testing and documentation.</div>
            </div>
        </div>

        <div class="api-status">
            <h3>üîå MCP Server API Status</h3>
            <div id="api-endpoints">Loading API endpoints...</div>
        </div>

        <div class="realtime-updates">
            <h3>üì° Real-time System Updates</h3>
            <div id="realtime-log">Connecting to WebSocket...</div>
        </div>
    </div>

    <script>
        console.log('üåê SwapInterCam Production Web Interface Loading...');

        // Check MCP Server status
        async function checkMCPStatus() {
            try {
                const response = await fetch('/api/mcp/status');
                if (response.ok) {
                    document.getElementById('mcp-status').textContent = 'MCP Server: Connected';
                    loadAPIEndpoints();
                } else {
                    document.getElementById('mcp-status').textContent = 'MCP Server: Error';
                }
            } catch (error) {
                document.getElementById('mcp-status').textContent = 'MCP Server: Offline';
            }
        }

        // Check SWEP Server status
        async function checkSWEPStatus() {
            try {
                const response = await fetch('/api/swep/status');
                if (response.ok) {
                    document.getElementById('swep-status').textContent = 'SWEP Server: Connected';
                } else {
                    document.getElementById('swep-status').textContent = 'SWEP Server: Error';
                }
            } catch (error) {
                document.getElementById('swep-status').textContent = 'SWEP Server: Offline';
            }
        }

        // Load API endpoints status
        async function loadAPIEndpoints() {
            const endpoints = [
                '/api/mcp/version', '/api/mcp/status', '/api/mcp/state',
                '/api/swep/version', '/api/swep/status', '/health'
            ];
            let html = '';
            for (const endpoint of endpoints) {
                try {
                    const response = await fetch(endpoint);
                    const status = response.ok ? 'OK' : 'ERROR';
                    const statusClass = response.ok ? 'status-ok' : 'status-error';
                    html += `<div class="api-endpoint"><span>${endpoint}</span><span class="endpoint-status ${statusClass}">${status}</span></div>`;
                } catch (error) {
                    html += `<div class="api-endpoint"><span>${endpoint}</span><span class="endpoint-status status-error">ERROR</span></div>`;
                }
            }
            document.getElementById('api-endpoints').innerHTML = html;
        }

        // Feature functions
        function openFaceSwapStudio() {
            window.open('/web-face-swap-production.html', '_blank');
        }
        function openChatIntegration() {
            window.open('/web-chat-integration.html', '_blank');
        }
        function openSystemMonitoring() {
            alert('üìä System Monitoring Dashboard\n\nOpening monitoring dashboard...');
        }
        function openCameraControls() {
            alert('üìπ Camera Management\n\nOpening camera controls...');
        }
        function openActionCenter() {
            alert('‚ö° Action Execution Center\n\nOpening action center...');
        }
        function openAPIExplorer() {
            alert('üîå MCP API Explorer\n\nOpening API explorer...');
        }

        // Initialize
        checkMCPStatus();
        checkSWEPStatus();
        setInterval(() => {
            checkMCPStatus();
            checkSWEPStatus();
        }, 30000);

        // WebSocket status (will fail but shows the attempt)
        document.getElementById('websocket-status').textContent = 'WebSocket: Not Available (Static Deployment)';

        console.log('‚úÖ SwapInterCam Production Web Interface Ready!');
    </script>
</body>

</html>